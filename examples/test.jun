fun replace_char(str: char_ptr, size: int, target: char, new_value: char): int [
    var count = 0;

    for (var i = 0; i < size; i += 1) [
        if (str[i] == target) [
            str[i] = new_value;
            count += 1;
        ]
    ]

    return count;
]

var str = "haaai";
var count1 = replace_char(str, 5, 'a', 'e');
var count2 = replace_char(str, 5, 'a', 'e');

str[2] = 'a';

var count3 = replace_char(str, 5, 'a', 'e');